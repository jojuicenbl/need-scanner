# OpenAI API key (required)
OPENAI_API_KEY=

# PostgreSQL database URL (required)
# For Supabase: postgresql+psycopg2://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
# For local: postgresql+psycopg2://user:password@localhost:5432/needscanner
DATABASE_URL=

# Reddit fetcher defaults
NS_DEFAULT_SUBREDDIT=freelance
NS_FETCH_LIMIT=200
NS_SLEEP_BETWEEN=1.0

# Model configuration
NS_EMBED_MODEL=text-embedding-3-small

# Light model: for simple tasks (sector tagging, intent classification)
NS_LIGHT_MODEL=gpt-4o-mini

# Heavy model: for complex enrichment (persona, JTBD, scoring)
NS_HEAVY_MODEL=gpt-4o

# Clustering
NS_NUM_CLUSTERS=10

# LLM constraints
NS_MAX_DOCS_PER_CLUSTER=6
NS_MAX_INPUT_TOKENS_PER_PROMPT=1200
NS_MAX_OUTPUT_TOKENS=400

# TOP K enrichment: only enrich top K clusters with heavy model (cost control)
NS_TOP_K_ENRICHMENT=5

# History & deduplication
NS_HISTORY_RETENTION_DAYS=30
NS_HISTORY_PENALTY_FACTOR=0.3

# MMR reranking
NS_MMR_LAMBDA=0.7
NS_MMR_TOP_K=10

# Cost controls
NS_COST_WARN_PROMPT_USD=0.50
